<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- Saved on Monday, June 14, 2021, 11:32 AM -->
<!-- MuClient version 5.07-pre -->

<!-- Plugin "autosave" generated by Plugin Wizard -->

<muclient>
<plugin
   name="autosave"
   author="Naricain"
   id="9d256e3fdb93859478db469d"
   language="Lua"
   purpose="Autosave the world file when there are any changes"
   save_state="y"
   date_written="2021-06-14 11:31:18"
   requires="5.07"
   version="1.0"
   >

</plugin>
<timers>
  <timer enabled="y" second="1.00" offset_second="0.00" send_to="12" script="do_autosave" />
</timers>


<script>
<![CDATA[
  local last_save = os.clock()
  local AUTOSAVE_INTERVAL = 60 * 10 -- 10 minutes apart

  function do_autosave()
    if GetInfo(111) or last_save + AUTOSAVE_INTERVAL < os.clock() then
      Save()
      ColourNote("white", "blue", "World file saved.")
      last_save = os.clock()
    end
  end
]]>
</script>


</muclient>
